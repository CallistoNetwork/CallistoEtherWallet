(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3caaa30c"],{5645:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"send-currency-container"},[n("interface-container-title",{attrs:{title:t.$t("common.coldStaking")}}),n("div",{staticClass:"send-form"},[n("div",{staticClass:"form-block amount-to-address"},[n("div",{staticClass:"amount"},[n("div",{staticClass:"single-input-block"},[n("div",{staticClass:"title"},[n("h4",[t._v(t._s(t.$t("interface.sendTxAmount")))]),n("p",{staticClass:"title-button prevent-user-select",on:{click:t.sendEntireBalance}},[t._v("\n              Entire Balance\n            ")])]),n("div",{staticClass:"the-form amount-number"},[n("input",{directives:[{name:"validate",rawName:"v-validate",value:"min_value:0",expression:"'min_value:0'"},{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"number",placeholder:"Amount",min:"0",name:"value",step:"any"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),n("i",{class:[!t.isValidAmount.valid||t.errors.has("value")?"not-good":"","fa fa-check-circle good-button"],attrs:{"aria-hidden":"true"}})]),!t.isValidAmount.valid||t.errors.has("value")?n("div",{staticClass:"error-message-container"},[n("p",[t._v(t._s(t.isValidAmount.msg))])]):t._e()])])])]),n("div",{staticClass:"submit-button-container"},[n("div",{class:[t.validInputs?"":"disabled","submit-button large-round-button-green-filled"],on:{click:t.submitTransaction}},[t._v("\n      "+t._s(t.$t("interface.sendTx"))+"\n    ")]),n("interface-bottom-text",{attrs:{"link-text":t.$t("interface.helpCenter"),question:t.$t("interface.haveIssues"),link:"https://kb.myetherwallet.com"}})],1)],1)},a=[],s=n("7618"),r=(n("96cf"),n("3b8d")),o=(n("7f7f"),n("7514"),n("ac6a"),n("456d"),n("6b54"),n("28a5"),n("cebc")),c=n("2f62"),u=n("55c1"),l=n("d7a2"),h=n("539d"),d=n("c8e5"),m=n("8d23"),f=n("ce96"),v=n("901e"),p=n.n(v),g=n("70c1"),b=n.n(g),w=n("1131"),x=n.n(w),y=n("a18f"),k=n.n(y),C={components:{"interface-container-title":u["a"],"interface-bottom-text":h["a"],blockie:d["a"],"currency-picker":l["a"]},props:{tokensWithBalance:{type:Array,default:function(){return[]}},getBalance:{type:Function,default:function(){}},highestGas:{type:String,default:"0"}},data:function(){return{advancedExpand:!1,isValidAddress:!1,hexAddress:"",address:"",value:"0",gasLimit:"21000",data:"",selectedCurrency:"",ethPrice:0}},computed:Object(o["a"])({},Object(c["b"])(["account","gasPrice","web3","network","linkQuery","online"]),{txFee:function(){return new p.a(b.a.toWei(this.gasPrice,"gwei")).times(this.gasLimit||0)},txFeeEth:function(){return new p.a(this.txFee).gt(0)?b.a.fromWei(this.txFee,"ether"):0},isValidAmount:function(){var t=this.$t("errorsGlobal.notAValidAmountTotal")+" Gas "+this.$t("errorsGlobal.toSend"),e=this.$t("errorsGlobal.notAValidAmountTotal")+" "+this.selectedCurrency.symbol+" "+this.$t("errorsGlobal.toSend"),n=this.$t("errorsGlobal.notAValidAmountTotal")+" "+this.network.type.currencyName+" "+this.$t("errorsGlobal.toSend"),i=this.$t("errorsGlobal.invalidValue"),a=new p.a(this.value).lte(this.selectedCurrency.balance),s=new p.a(this.value).plus(this.txFeeEth).lte(this.balanceDefault),r=new p.a(this.txFeeEth).lte(this.balanceDefault),o=this.isValidDecimals;if(new p.a(this.value).lt(0))return{msg:i,valid:!1};if(this.isToken){var c=a&&r&&o;return{valid:c,msg:c?"":a?r?i:t:e}}return{valid:s&&o,msg:s?"":s?i:n}},isValidDecimals:function(){var t=(this.value+"").split(".")[1];return!t||(this.isToken?t.length<=this.selectedCurrency.decimals:t.length<=18)},isValidData:function(){return f["c"].validateHexString(this.data)},isValidGasLimit:function(){return new p.a(this.gasLimit).gte(0)},balanceDefault:function(){return new p.a(b.a.fromWei(this.account.balance,"ether"))},validInputs:function(){return this.isValidAmount.valid&&this.isValidAddress&&new p.a(this.gasLimit).gte(0)&&f["c"].validateHexString(this.data)},isToken:function(){var t=this.network.type.currencyName;return this.selectedCurrency.symbol!==t},txData:function(){return this.isToken?this.getTokenTransferABI(this.value,this.selectedCurrency.decimals):f["c"].sanitizeHex(this.data)},txValue:function(){return this.isToken?"0x00":f["c"].sanitizeHex(b.a.toWei(this.value,"ether").toString(16))},txTo:function(){return this.isToken?this.selectedCurrency.address.toLowerCase():this.hexAddress.toLowerCase().trim()},multiWatch:function(){return this.value,this.isValidAddress,this.data,this.selectedCurrency,(new Date).getTime()/1e3},convert:function(){return this.ethPrice?new p.a(new p.a(this.txFeeEth).times(new p.a(this.ethPrice))).toFixed(2).toString():"--"}}),watch:{multiWatch:x.a._.debounce(function(){this.validInputs&&this.estimateGas()},500),tokensWithBalance:function(){if(Object.keys(this.linkQuery).length>0){var t=this.linkQuery,e=t.data,n=t.to,i=t.value,a=t.gaslimit,s=t.tokensymbol,r=s?this.tokensWithBalance.find(function(t){return t.symbol.toLowerCase()===s.toLowerCase()}):void 0;e&&f["c"].validateHexString(e)?(this.data=e,this.data.length>0&&(this.advancedExpand=!0)):this.data="",this.value=i?new p.a(i).toFixed():0,this.hexAddress=n||"",this.address=n||"",a?(this.gasLimit=new p.a(a).toString(),this.advancedExpand=!0):this.gasLimit="21000",this.selectedCurrency=r||this.selectedCurrency,f["d"].responseHandler("Form has been prefilled. Please proceed with caution!",f["d"].WARN),this.$store.dispatch("saveQueryVal",{})}},network:function(t){this.online&&"ETH"===t.type.name&&this.getEthPrice()}},mounted:function(){this.online&&"ETH"===this.network.type.name&&this.getEthPrice()},methods:{openSettings:function(){this.$eventHub.$emit("open-settings")},sendEntireBalance:function(){this.isToken?this.value=this.selectedCurrency.balance:this.value=this.balanceDefault>0?this.balanceDefault.minus(b.a.fromWei(new p.a(b.a.toWei(this.gasPrice,"gwei")).times(this.gasLimit).toString(),"ether")):0},getTokenTransferABI:function(t,e){var n=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],i=new this.web3.eth.Contract(n);return i.methods.transfer(this.hexAddress.toLowerCase(),new p.a(t).times(new p.a(10).pow(e)).toFixed()).encodeABI()},estimateGas:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.web3.eth.getCoinbase();case 2:e=t.sent,n={from:e,value:this.txValue,to:this.txTo,gasPrice:f["c"].sanitizeHex(b.a.toWei(this.gasPrice,"gwei").toString(16)),data:this.txData},this.web3.eth.estimateGas(n).then(function(t){i.gasLimit=t}).catch(function(t){i.gasLimit=-1,f["d"].responseHandler(t,f["d"].ERROR)});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),submitTransaction:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,i,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),t.prev=1,t.next=4,this.web3.eth.getCoinbase();case 4:return e=t.sent,t.next=7,this.web3.eth.getTransactionCount(e);case 7:n=t.sent,i={nonce:f["c"].sanitizeHex(new p.a(n).toString(16)),gasPrice:f["c"].sanitizeHex(b.a.toWei(this.gasPrice,"gwei").toString(16)),gasLimit:f["c"].sanitizeHex(new p.a(this.gasLimit).toString(16)),to:this.txTo,value:this.txValue,data:this.txData},a=new m["Transaction"](i),s=a.toJSON(!0),s.from=e,this.web3.eth.sendTransaction(s).catch(function(t){f["d"].responseHandler(t,f["d"].ERROR)}),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),f["d"].responseHandler(t.t0,f["d"].ERROR);case 18:case"end":return t.stop()}},t,this,[[1,15]])}));function e(){return t.apply(this,arguments)}return e}(),getEthPrice:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k()("https://cryptorates.mewapi.io/ticker?filter=ETH").then(function(t){return t.json()}).catch(function(t){f["d"].responseHandler(t,f["d"].ERROR)});case 2:e=t.sent,this.ethPrice="object"===Object(s["a"])(e)?e.data.ETH.quotes.USD.price:0;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),copyToClipboard:function(t){this.$refs[t].select(),document.execCommand("copy")}}},T=C,A=(n("f132"),n("2877")),E=Object(A["a"])(T,i,a,!1,null,"4d0ff3e3",null),V=E.exports;n.d(e,"default",function(){return V})},"697c":function(t,e,n){},f132:function(t,e,n){"use strict";var i=n("697c"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-3caaa30c.cd138022.js.map